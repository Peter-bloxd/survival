<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿå­˜æ³•åˆ™ - å®˜æ–¹ç¤¾åŒº</title>
    <style>
        :root { --main-green: #2ecc71; --card-bg: #161b22; --text-gray: #8b949e; }
        body { background-color: #0d1117; color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow-x: hidden; }
        nav { display: flex; justify-content: space-between; padding: 15px 50px; align-items: center; background: #161b22; border-bottom: 1px solid #30363d; position: sticky; top: 0; }
        .logo { color: var(--main-green); font-size: 22px; font-weight: bold; text-decoration: none; }
        .auth-btn { background: transparent; color: white; border: 1px solid white; padding: 6px 15px; border-radius: 4px; cursor: pointer; }
        .hero { text-align: center; padding: 60px 20px; }
        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; max-width: 1100px; margin: 20px auto; padding: 0 20px; }
        .feature-card { background: var(--card-bg); padding: 30px; border-radius: 8px; border: 1px solid #30363d; cursor: pointer; text-align: center; transition: 0.3s; }
        .feature-card:hover { border-color: var(--main-green); transform: translateY(-5px); }
        .user-info { display: flex; align-items: center; gap: 10px; }
        .user-info img { width: 30px; border-radius: 50%; border: 1px solid var(--main-green); }
    </style>
</head>
<body>

<nav>
    <a href="#" class="logo">ç”Ÿå­˜æ³•åˆ™</a>
    <div id="auth-ui">
        <button class="auth-btn" onclick="login()">Google ç™»å½•</button>
    </div>
</nav>

<div class="hero">
    <h1 id="welcome-text">ç”Ÿå­˜æ³•åˆ™ Â· å®˜æ–¹ç¤¾åŒº</h1>
    <p style="color:var(--text-gray)">æœé›†ç‰©èµ„ã€äº¤æ˜“è´§å“ã€æ¢ç´¢æœªçŸ¥åœ°å›¾</p>
</div>

<div class="grid-container">
    <div class="feature-card" onclick="checkLogin('ç»„é˜Ÿå¤§å…')"><h3>ç»„é˜Ÿå¤§å…</h3><p>å¯»æ‰¾é˜Ÿå‹å¹¶è‚©ä½œæˆ˜</p></div>
    <div class="feature-card" onclick="checkLogin('äº¤æ˜“è¡Œ')"><h3>äº¤æ˜“è¡Œ</h3><p>å®‰å…¨çš„ç‰©èµ„ä¹°å–ä¸­å¿ƒ</p></div>
    <div class="feature-card" onclick="alert('æš‚æ— æ›´æ–°')"><h3>æ›´æ–°æ—¥å¿—</h3><p>æŸ¥çœ‹ç‰ˆæœ¬ä¿®å¤å†…å®¹</p></div>
    <div class="feature-card" onclick="checkLogin('å…‘æ¢ç ')"><h3>å…‘æ¢ç </h3><p>é¢†å–é™æ—¶ç‰©èµ„å¥–åŠ±</p></div>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    const firebaseConfig = {
        apiKey: "AIzaSyBC92jwiCLsfG6bE4k2Jo4KQSiI-A_gxII",
        authDomain: "bloxd-survival.firebaseapp.com",
        projectId: "bloxd-survival",
        storageBucket: "bloxd-survival.firebasestorage.app",
        messagingSenderId: "60666065786",
        appId: "1:60666065786:web:bdc3131accaceb0180dcc3",
        measurementId: "G-L39F7GPMF4"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    let currentUser = null;

    window.login = () => {
        const provider = new GoogleAuthProvider();
        provider.setCustomParameters({ prompt: 'select_account' });
        signInWithPopup(auth, provider).catch((error) => {
            console.error(error);
            alert("âŒ ç™»å½•å¤±è´¥ï¼\nåŸå› ï¼š" + error.code + "\n\nğŸ’¡ è§£å†³åŠæ³•ï¼šè¯·ç¡®ä¿ä½ åœ¨ Firebase çš„ Google ç™»å½•è®¾ç½®é¡µç‚¹å‡»äº†å³ä¸‹è§’çš„è“è‰²â€œä¿å­˜â€æŒ‰é’®ã€‚");
        });
    };

    window.logout = () => signOut(auth);

    window.checkLogin = (target) => {
        if (!currentUser) {
            alert("è¯·å…ˆå®Œæˆ Google ç™»å½•å†è®¿é—® " + target);
        } else {
            alert("æ­£åœ¨è·³è½¬åˆ° " + target + "...");
        }
    };

    onAuthStateChanged(auth, (user) => {
        const ui = document.getElementById('auth-ui');
        const welcome = document.getElementById('welcome-text');
        currentUser = user;
        if (user) {
            welcome.innerText = `æ¬¢è¿å›æ¥, ${user.displayName}`;
            ui.innerHTML = `<div class="user-info"><img src="${user.photoURL}"><span>${user.displayName}</span><button class="auth-btn" onclick="logout()">é€€å‡º</button></div>`;
        } else {
            welcome.innerText = "ç”Ÿå­˜æ³•åˆ™ Â· å®˜æ–¹ç¤¾åŒº";
            ui.innerHTML = `<button class="auth-btn" onclick="login()">Google ç™»å½•</button>`;
        }
    });
</script>
</body>
</html>
