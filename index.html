<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>TERMINAL_OVERRIDE_V4</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

        :root {
            --cyan: #00f2ff;
            --cyan-glow: rgba(0, 242, 255, 0.5);
            --red: #ff3c41;
            --dark-deep: #020406;
            --panel-border: rgba(0, 242, 255, 0.15);
        }

        body, html {
            margin: 0; padding: 0;
            background: var(--dark-deep);
            color: var(--cyan);
            font-family: 'Share Tech Mono', monospace;
            overflow: hidden;
            height: 100vh;
        }

        /* 1. 扫描线与噪点：模拟老式 CRT */
        .crt-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
            background-size: 100% 3px, 3px 100%;
            pointer-events: none; z-index: 999;
            opacity: 0.6;
        }

        /* 2. 背景 Canvas 粒子层 */
        #canvas-bg {
            position: fixed; top: 0; left: 0; z-index: -1;
        }

        /* 3. 主界面 3D 浮动 */
        .wrapper {
            display: flex; justify-content: center; align-items: center;
            height: 100vh; perspective: 2000px;
        }

        .terminal-container {
            width: 95vw; height: 85vh;
            background: rgba(5, 12, 18, 0.7);
            border: 1px solid var(--panel-border);
            position: relative;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 100px rgba(0,0,0,0.8);
            transform: rotateX(2deg) rotateY(-1deg);
            display: flex; flex-direction: column;
            padding: 20px;
        }

        /* 顶部装饰细节 */
        .top-deco {
            display: flex; justify-content: space-between;
            font-size: 10px; letter-spacing: 2px;
            border-bottom: 1px solid var(--panel-border);
            padding-bottom: 10px; margin-bottom: 30px;
        }

        /* 核心卡片设计 */
        .grid-menu {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px; flex-grow: 1;
        }

        .item-card {
            border: 1px solid var(--panel-border);
            position: relative;
            padding: 20px;
            background: linear-gradient(135deg, rgba(0,242,255,0.02) 0%, transparent 100%);
            transition: 0.3s;
            overflow: hidden;
            display: flex; flex-direction: column; justify-content: flex-end;
        }

        .item-card::before {
            content: ""; position: absolute; top: 0; left: 0;
            width: 100%; height: 2px;
            background: linear-gradient(90deg, var(--cyan), transparent);
            transform: translateX(-100%);
            transition: 0.5s;
        }

        .item-card:hover::before { transform: translateX(0); }

        .item-card:hover {
            background: rgba(0, 242, 255, 0.08);
            border-color: var(--cyan);
            box-shadow: inset 0 0 20px rgba(0, 242, 255, 0.1);
        }

        .item-card .label { font-size: 1.5rem; text-shadow: 0 0 8px var(--cyan-glow); }
        .item-card .code { font-size: 9px; opacity: 0.5; margin-top: 5px; }

        /* 特殊：红色警报区 */
        .danger-zone { border-color: rgba(255, 60, 65, 0.3); }
        .danger-zone:hover { border-color: var(--red); box-shadow: inset 0 0 20px rgba(255, 60, 65, 0.2); }
        .danger-zone .label { color: var(--red); text-shadow: 0 0 8px var(--red); }

        /* 底部状态栏细节 */
        .bottom-bar {
            margin-top: 20px; font-size: 10px;
            display: flex; justify-content: space-between;
            border-top: 1px solid var(--panel-border);
            padding-top: 10px;
        }

        /* 启动遮罩 */
        #boot-screen {
            position: fixed; inset: 0; background: #000; z-index: 10000;
            display: flex; justify-content: center; align-items: center;
            color: var(--cyan); cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="boot-screen" onclick="initSystem()">
        <div id="boot-text">[ 点击初始化神经链路 ]</div>
    </div>

    <div class="crt-overlay"></div>
    <canvas id="canvas-bg"></canvas>

    <div class="wrapper">
        <main class="terminal-container">
            <div class="top-deco">
                <div>SYS_REF: 00-X92 // LOCALHOST</div>
                <div id="real-time">00:00:00</div>
                <div>ENCRYPTION: AES-256-GCM</div>
            </div>

            <div class="grid-menu">
                <div class="item-card" onmouseenter="beep()">
                    <div class="label">全服聊天</div>
                    <div class="code">CHANNEL_ID: 882.global</div>
                </div>
                <div class="item-card" onmouseenter="beep()">
                    <div class="label">物资交易</div>
                    <div class="code">MARKET_P2P_ACTIVE</div>
                </div>
                <div class="item-card" onmouseenter="beep()">
                    <div class="label">加密私聊</div>
                    <div class="code">SECURE_TUNNEL_ESTABLISHED</div>
                </div>
                <div class="item-card danger-zone" onmouseenter="warn()">
                    <div class="label">管理终端</div>
                    <div class="code">ROOT_OVERRIDE_REQUIRED</div>
                </div>
                <div class="item-card" onmouseenter="beep()">
                    <div class="label">补给同步</div>
                    <div class="code">LAST_SYNC: 4m AGO</div>
                </div>
                <div class="item-card" onmouseenter="beep()">
                    <div class="label">荣誉排行</div>
                    <div class="code">CALCULATING_RANK...</div>
                </div>
                <div class="item-card" onmouseenter="beep()">
                    <div class="label">协议激活</div>
                    <div class="code">KEY_WAITING...</div>
                </div>
                <div class="item-card" onmouseenter="beep()">
                    <div class="label">生存指南</div>
                    <div class="code">DOC_REV_4.2</div>
                </div>
            </div>

            <div class="bottom-bar">
                <div>CPU_LOAD: <span id="cpu-load">0</span>%</div>
                <div>MEM_USAGE: <span id="mem-usage">0</span>MB</div>
                <div>CONNECTION: STABLE</div>
                <div style="color: var(--red);">[ WARNING: NO TRACE DETECTED ]</div>
            </div>
        </main>
    </div>

    <script>
        // --- 1. Canvas 粒子背景系统 ---
        const canvas = document.getElementById('canvas-bg');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function initCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            for(let i=0; i<100; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 2,
                    speed: Math.random() * 0.5 + 0.1
                });
            }
        }

        function drawParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "rgba(0, 242, 255, 0.3)";
            particles.forEach(p => {
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
                ctx.fill();
                p.y -= p.speed;
                if(p.y < 0) p.y = canvas.height;
            });
            requestAnimationFrame(drawParticles);
        }

        // --- 2. 动态数据模拟 ---
        setInterval(() => {
            document.getElementById('real-time').innerText = new Date().toLocaleTimeString();
            document.getElementById('cpu-load').innerText = (Math.random()*10 + 20).toFixed(1);
            document.getElementById('mem-usage').innerText = Math.floor(Math.random()*200 + 800);
        }, 1000);

        // --- 3. 音频引擎 ---
        let audioCtx;
        function initAudio() {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            // 环境底噪
            const osc = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            osc.type = 'triangle'; osc.frequency.value = 50;
            g.gain.value = 0.005; 
            osc.connect(g).connect(audioCtx.destination);
            osc.start();
        }

        function beep() {
            if(!audioCtx) return;
            const o = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            o.type = 'square'; o.frequency.value = 1000;
            g.gain.setTargetAtTime(0.05, audioCtx.currentTime, 0.01);
            g.gain.setTargetAtTime(0, audioCtx.currentTime + 0.05, 0.01);
            o.connect(g).connect(audioCtx.destination);
            o.start(); o.stop(audioCtx.currentTime + 0.1);
        }

        function warn() {
            if(!audioCtx) return;
            const o = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            o.type = 'sawtooth'; o.frequency.value = 120;
            g.gain.setTargetAtTime(0.1, audioCtx.currentTime, 0.01);
            g.gain.setTargetAtTime(0, audioCtx.currentTime + 0.2, 0.05);
            o.connect(g).connect(audioCtx.destination);
            o.start(); o.stop(audioCtx.currentTime + 0.3);
        }

        function initSystem() {
            document.getElementById('boot-screen').style.opacity = '0';
            setTimeout(() => document.getElementById('boot-screen').remove(), 500);
            initCanvas(); drawParticles(); initAudio();
        }
    </script>
</body>
</html>
